<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Membangun Kubernetes cluster – jakartaDEV – Daily discoveries</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'>

    
    <meta name="description" content="Kubernetes, sebagai sistem orkestrasi container yang dirilis open-source untuk mengautomasi deployment, dan juga dapat digunakan untuk mengatur aplikasi di server, saat ini sedang naik daun, dan banyak digunakan di beberapa perusahaan besar, saat ini penyedia layanan cloud seperti Amazon (AWS EKS), Google (GKE), AliCloud dan beberapa penyedia lain juga menyediakan layanan Kubernetes.

Di sini akan mencoba membangun cluster kubernetes dilokal mesin kita, bisa berupa laptop atau desktop yang biasa digunakan, untuk membangun cluster ini setidaknya dibutuhkan beberapa hal berikut:


  RAM 8GB
  Storage, setidaknya membutuhkan 4GB per-node
  Virtualbox
  Vagrant (opsional)


Vagrant digunakan sebagai alat untuk membuat development environment lebih mudah disini, dan virtualbox digunakan sebagai mesin virtualisasinya, cluster ini terdiri dari 1 master dan 3 node (slave) kubernetes. Untuk OS yang digunakan adalah GNU/Linux distribusi Centos, bisa saja menggunakan distro lain, seperti Ubuntu, tinggal ubah perintah package management sesuai dengan distro yang digunakan.

Setup
Untuk setup awal, kita akan mendefinisikan host atau node yang akan kita gunakan di Vagrantfile, disini akan disetup 4 node, sourcecode untuk artikel ini ada disini.

$ vagrant up

Untuk menghidupkan 4 node yang sudah ditulis di Vagrantfile. Setelah semua node hidup, kita bisa melihat status dari masing-masing node di vagrant dengan perintah $ vagrant status dan akan mendapat respon berikut.

Current machine states:

master                    running (virtualbox)
kube1                     running (virtualbox)
kube2                     running (virtualbox)
kube3                     running (virtualbox)


Setelah hidup node-node tersebut, ssh ke node master $ vagrant ssh master.

[vagrant@k8s-master ~]$ sudo su - 


Perintah ini untuk bisa bertukar posisi ke root sehingga lebih mudah, untuk yang lebih concern dengan keamanan, cukup dengan perintah sudo ditiap perintah yang membutuhkan privilege lebih tinggi, hanya pastikan bahwa user anda bisa sudah mendapatkan izin di visudo.

setelah kita akan mendaftarkan 4 node yang digunakan ini di /etc/hosts masing-masing node.
" />
    <meta property="og:description" content="Kubernetes, sebagai sistem orkestrasi container yang dirilis open-source untuk mengautomasi deployment, dan juga dapat digunakan untuk mengatur aplikasi di server, saat ini sedang naik daun, dan banyak digunakan di beberapa perusahaan besar, saat ini penyedia layanan cloud seperti Amazon (AWS EKS), Google (GKE), AliCloud dan beberapa penyedia lain juga menyediakan layanan Kubernetes.

Di sini akan mencoba membangun cluster kubernetes dilokal mesin kita, bisa berupa laptop atau desktop yang biasa digunakan, untuk membangun cluster ini setidaknya dibutuhkan beberapa hal berikut:


  RAM 8GB
  Storage, setidaknya membutuhkan 4GB per-node
  Virtualbox
  Vagrant (opsional)


Vagrant digunakan sebagai alat untuk membuat development environment lebih mudah disini, dan virtualbox digunakan sebagai mesin virtualisasinya, cluster ini terdiri dari 1 master dan 3 node (slave) kubernetes. Untuk OS yang digunakan adalah GNU/Linux distribusi Centos, bisa saja menggunakan distro lain, seperti Ubuntu, tinggal ubah perintah package management sesuai dengan distro yang digunakan.

Setup
Untuk setup awal, kita akan mendefinisikan host atau node yang akan kita gunakan di Vagrantfile, disini akan disetup 4 node, sourcecode untuk artikel ini ada disini.

$ vagrant up

Untuk menghidupkan 4 node yang sudah ditulis di Vagrantfile. Setelah semua node hidup, kita bisa melihat status dari masing-masing node di vagrant dengan perintah $ vagrant status dan akan mendapat respon berikut.

Current machine states:

master                    running (virtualbox)
kube1                     running (virtualbox)
kube2                     running (virtualbox)
kube3                     running (virtualbox)


Setelah hidup node-node tersebut, ssh ke node master $ vagrant ssh master.

[vagrant@k8s-master ~]$ sudo su - 


Perintah ini untuk bisa bertukar posisi ke root sehingga lebih mudah, untuk yang lebih concern dengan keamanan, cukup dengan perintah sudo ditiap perintah yang membutuhkan privilege lebih tinggi, hanya pastikan bahwa user anda bisa sudah mendapatkan izin di visudo.

setelah kita akan mendaftarkan 4 node yang digunakan ini di /etc/hosts masing-masing node.
" />
    
    <meta name="author" content="jakartaDEV" />

    
    <meta property="og:title" content="Membangun Kubernetes cluster" />
    <meta property="twitter:title" content="Membangun Kubernetes cluster" />
    

    <meta property="og:title" content="Daily discoveries dan newsletter mingguan untuk developer dan Open source enthusias"/>
    <meta property="og:locale" content="id_ID" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://jakartadev.org/" />
    <meta property="og:site_name" content="JakartaDEV: developement news, tech news dan open source" />
    <meta property="og:image" content="http://localhost:4000/images/logo.png" />
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="Daily discoveries dan newsletter mingguan untuk developer dan Open source enthusias"/>
    <meta name="twitter:site" content="@JakartaDev"/>
    <meta name="twitter:image" content="http://localhost:4000/images/logo.png"/>
    <meta name="twitter:creator" content="@JakartaDev"/>

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="canonical" href="http://jakartadev.org/" />
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="jakartaDEV - Daily discoveries" href="/feed.xml" />
    <!-- <link href="https://fonts.googleapis.com/css?family=Abril+Fatface|Fjalla+One|Lobster|Oswald|Patua+One" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css?family=Saira+Condensed|Roboto|Lobster|Patua+One|Open+Sans|PT+Mono" rel="stylesheet">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
    <link rel="icon" type="image/png" href="http://localhost:4000/images/favicon.png">
    <link rel="stylesheet" href="/public/css/highlight/styles/darcula.css">
    <script src="/public/css/highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>      

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="/images/logo.png" /></a>

          <div class="site-info">
            <!-- <h1 class="site-name"><a href="/">jakartaDEV</a></h1> -->
            <h1 class="site-name"><a href="/"><span class="logo-text">jakarta</span><span class="logo-text-dev">DEV</span></a></h1>
            <p class="site-description">Daily discoveries</p>
          </div>

          <nav>
            <a href="/archives">Archives</a>
            <a href="/newsletters">Newsletter</a>
            <a href="/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">

      <a href="/">&larr; home</a>

<article class="post">
  <h1>Membangun Kubernetes cluster</h1>
  <div class="entry">
    <p><a href="https://kubernetes.io/">Kubernetes</a>, sebagai sistem orkestrasi container yang dirilis open-source untuk mengautomasi deployment, dan juga dapat digunakan untuk mengatur aplikasi di server, saat ini sedang naik daun, dan banyak digunakan di beberapa perusahaan besar, saat ini penyedia layanan cloud seperti Amazon (AWS EKS), Google (GKE), AliCloud dan beberapa penyedia lain juga menyediakan layanan Kubernetes.</p>

<p>Di sini akan mencoba membangun cluster kubernetes dilokal mesin kita, bisa berupa laptop atau desktop yang biasa digunakan, untuk membangun cluster ini setidaknya dibutuhkan beberapa hal berikut:</p>

<ul>
  <li>RAM 8GB</li>
  <li>Storage, setidaknya membutuhkan 4GB per-node</li>
  <li>Virtualbox</li>
  <li>Vagrant (opsional)</li>
</ul>

<p>Vagrant digunakan sebagai alat untuk membuat development environment lebih mudah disini, dan virtualbox digunakan sebagai mesin virtualisasinya, cluster ini terdiri dari 1 <code class="highlighter-rouge">master</code> dan 3 <code class="highlighter-rouge">node</code> (slave) kubernetes. Untuk OS yang digunakan adalah GNU/Linux distribusi Centos, bisa saja menggunakan distro lain, seperti Ubuntu, tinggal ubah perintah package management sesuai dengan distro yang digunakan.</p>

<h3 id="setup">Setup</h3>
<p>Untuk setup awal, kita akan mendefinisikan host atau node yang akan kita gunakan di Vagrantfile, disini akan disetup 4 node, sourcecode untuk artikel ini ada <a href="https://github.com/dedenf/kubernetes">disini</a>.</p>

<p><code class="highlighter-rouge">$ vagrant up</code></p>

<p>Untuk menghidupkan 4 node yang sudah ditulis di <code class="highlighter-rouge">Vagrantfile</code>. Setelah semua node hidup, kita bisa melihat status dari masing-masing node di vagrant dengan perintah <code class="highlighter-rouge">$ vagrant status</code> dan akan mendapat respon berikut.</p>

<pre><code class="language-Shell">Current machine states:

master                    running (virtualbox)
kube1                     running (virtualbox)
kube2                     running (virtualbox)
kube3                     running (virtualbox)
</code></pre>

<p>Setelah hidup node-node tersebut, ssh ke node master <code class="highlighter-rouge">$ vagrant ssh master</code>.</p>

<pre><code class="language-Shell">[vagrant@k8s-master ~]$ sudo su - 
</code></pre>

<p>Perintah ini untuk bisa bertukar posisi ke <code class="highlighter-rouge">root</code> sehingga lebih mudah, untuk yang lebih <em>concern</em> dengan keamanan, cukup dengan perintah <code class="highlighter-rouge">sudo</code> ditiap perintah yang membutuhkan privilege lebih tinggi, hanya pastikan bahwa user anda bisa sudah mendapatkan izin di <code class="highlighter-rouge">visudo</code>.</p>

<p>setelah kita akan mendaftarkan 4 node yang digunakan ini di <code class="highlighter-rouge">/etc/hosts</code> masing-masing node.</p>

  </div>


  <section class="widget newsletter_subscribe">
      <form action="https://jakartadev.us12.list-manage.com/subscribe/post?u=a34ff9df1ffbc50651c66d478&amp;id=d1f45e3af1" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" id="subscribe-newsletter" novalidate>
    
        <p>Subscribe Jakartadev newsletter.</p>
        <p aria-hidden="true">
          <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" style="width: 95%; padding: 1px 2px" placeholder="Your email address"  id="subscribe-field" required>
        </p>
        <p>
          <input type="submit" id="mc-embedded-subscribe" value="Subscribe">
        </p>
    </form>
    </section>

    <div class="date">
        Published on September 17, 2018
      </div>

      
  
  <div class="full-article-footer">
    <div class="article-footer">
      <div class="avatar-module">
          <img class="avatar" height="100px" src="https://notes.dedenf.com/public/avatar.jpg">
      </div>
      <div class="author-description">
      <h4>Author</h4>
      <strong>Deden Fathurahman</strong> &mdash; DevOps, System Architecture, technologist, Open Source enthusiast, loves all things technology.
      </div>
   </div>
</div>

  

  <div>
      <p class="">Curated by <a href="https://github.com/dedenf/">dedenf</a>, 
        <em style="font-style:normal;">check <a href="https://raw.githubusercontent.com/jakartadev/jakartadev.github.io/master/signed/2018-09-17-deploy-kubernetes.md.asc">post hash</a> and verify at <a href="https://keybase.io/verify">keybase</a>.</em>  
      </p>
    </div>
  

  
</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          



<a href="https://github.com/jakartadev"><i class="svg-icon github"></i></a>



<a href="/feed.xml"><i class="svg-icon rss"></i></a>
<a href="https://www.twitter.com/jakartadev"><i class="svg-icon twitter"></i></a>



          <div class="ack-footer">&copy; Copyright 2018 -- jakartadev.org -- made with &hearts; by <a href="https://github.com/dedenf">@dedenf</a></div>
        </footer>
      </div>
    </div>

    
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-73563566-1', 'auto');
		ga('send', 'pageview', {
		  'page': '/deploy-kubernetes/',
		  'title': 'Membangun Kubernetes cluster'
		});
	</script>
	<!-- End Google Analytics -->


    
  </body>
</html>
